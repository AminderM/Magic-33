import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { toast } from 'sonner';\n\nconst EmailVerification = () => {\n  const { token } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [verified, setVerified] = useState(false);\n  const [error, setError] = useState('');\n\n  const BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\n\n  useEffect(() => {\n    verifyEmail();\n  }, [token]);\n\n  const verifyEmail = async () => {\n    try {\n      const response = await fetch(`${BACKEND_URL}/api/verify-email/${token}`);\n      const data = await response.json();\n      \n      if (response.ok) {\n        setVerified(true);\n        toast.success('Email verified successfully!');\n        // Redirect to auth page after 3 seconds\n        setTimeout(() => {\n          navigate('/auth');\n        }, 3000);\n      } else {\n        setError(data.detail || 'Verification failed');\n        toast.error(data.detail || 'Verification failed');\n      }\n    } catch (error) {\n      setError('Network error occurred');\n      toast.error('Network error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md\">\n          <CardContent className=\"p-8 text-center\">\n            <div className=\"loading-spinner w-12 h-12 mx-auto mb-4\"></div>\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Verifying Your Email</h2>\n            <p className=\"text-gray-600\">Please wait while we verify your email address...</p>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <CardTitle className=\"text-2xl font-bold text-gray-900\">\n            {verified ? (\n              <div className=\"text-foreground\">\n                <i className=\"fas fa-check-circle text-4xl mb-4\"></i>\n                <div>Email Verified!</div>\n              </div>\n            ) : (\n              <div className=\"text-foreground\">\n                <i className=\"fas fa-times-circle text-4xl mb-4\"></i>\n                <div>Verification Failed</div>\n              </div>\n            )}\n          </CardTitle>\n        </CardHeader>\n        \n        <CardContent className=\"text-center\">\n          {verified ? (\n            <div>\n              <p className=\"text-gray-600 mb-6\">\n                Your email has been successfully verified! You can now complete your company registration.\n              </p>\n              <p className=\"text-sm text-gray-500 mb-4\">\n                Redirecting you to login in 3 seconds...\n              </p>\n              <Button \n                onClick={() => navigate('/auth')}\n                className=\"btn-primary\"\n                data-testid=\"continue-to-auth-btn\"\n              >\n                Continue to Login\n              </Button>\n            </div>\n          ) : (\n            <div>\n              <p className=\"text-gray-600 mb-4\">\n                {error || 'The verification link is invalid or has expired.'}\n              </p>\n              <p className=\"text-sm text-gray-500 mb-6\">\n                Please try registering again or contact support if you continue to have issues.\n              </p>\n              <div className=\"space-y-2\">\n                <Button \n                  onClick={() => navigate('/auth')}\n                  className=\"btn-primary w-full\"\n                  data-testid=\"back-to-auth-btn\"\n                >\n                  Back to Registration\n                </Button>\n                <Button \n                  onClick={() => navigate('/')}\n                  variant=\"outline\"\n                  className=\"w-full\"\n                  data-testid=\"back-to-home-btn\"\n                >\n                  Back to Home\n                </Button>\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default EmailVerification;"}